{"version":3,"sources":["axios/api.js","config/locales/index.js","components/Dialog/AvatarUploadDialog.js","components/Dialog/AvatarUploadDialogLogic.js","pages/PersonalPage/personalPageLogic.js","pages/PersonalPage/index.js","pages/PersonalPage/EditAccount.js","pages/PersonalPage/cropImage.js","pages/PersonalPage/CropAvatar.js","config/routes.js","config/themes.js","config/menuItems.js","config/config.js","App.js","axios/index.js","index.js"],"names":["demoapi","axios","create","baseURL","headers","locales","locale","messages","useStyles","makeStyles","theme","root","flexGrow","alertShown","opacity","transition","zIndex","alertHidden","DialogTitle","withStyles","margin","padding","spacing","props","children","classes","other","onClose","disableTypography","className","Typography","variant","DialogContent","width","MuiDialogContent","DialogActions","MuiDialogActions","AvatarUploadDialog","isOpen","closeDialog","triggerImageInput","inputRef","pData","console","log","useState","file","setFile","showAlert","setshowAlert","to","pathname","state","image","Dialog","aria-labelledby","open","id","style","color","gutterBottom","Button","autoFocus","onClick","ref","type","name","accept","onChange","event","target","files","size","URL","createObjectURL","handleInputChange","hidden","Snackbar","autoHideDuration","reason","Alert","severity","AvatarUploadDialogLogic","setIsOpen","useRef","openDialog","current","click","PersonalPageLogic","info","isLoading","setisLoading","personalInfo","setpersonalInfo","nameValidation","setnameValidation","genderValidation","setgenderValidation","phoneValidation","setphoneValidation","birthValidation","countyValidation","useEffect","getPersonalInfo","a","uid","localStorage","getItem","get","then","res","data","users","gender","handleNameChange","value","handleSexChange","handleTelChange","phone_number","reg","RegExp","test","handleBirthChange","birth","handleCountyChange","county","getBase64","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","updateInfo","croppedImage","fetch","r","blob","File","lastModified","Date","b64","put","country_code_id","countryCode","status","validations","top_bar_bg_color","backgroundColor","height","textfield_container","marginTop","background","title","marginLeft","avatar","gridMargin","textfield","marginBottom","paddingLeft","textfield_phone","textfield_country_code","textLabel","finishButton","avatarOverlay","position","bottom","textAlign","verticalAlign","lineHeight","fontSize","avatarContainer","borderRadius","overflow","backdrop","drawer","DisabledTextField","borderBottom","TextField","PersonalPage","history","useHistory","Logix","undefined","location","search","AppBar","Toolbar","IconButton","edge","aria-label","goBack","push","Grid","container","direction","alignItems","justify","item","xs","Avatar","src","email","Divider","disabled","placeholder","inputProps","underline","readOnly","labelId","countrycodes","phone_code","InputLabelProps","shrink","Backdrop","CircularProgress","EditAccount","collectData","document","getElementById","class","helperText","NativeSelect","map","country_code","country_name","createImage","url","Image","addEventListener","setAttribute","getRadianAngle","degreeValue","Math","PI","getCroppedImg","imageSrc","pixelCrop","rotation","canvas","createElement","ctx","getContext","maxSize","max","safeArea","sqrt","translate","rotate","drawImage","getImageData","putImageData","round","x","y","toBlob","imgContainer","display","justifyContent","CropAvatar","selectedImage","crop","setCrop","zoom","setZoom","croppedAreaPixels","setCroppedAreaPixels","onCropComplete","useCallback","croppedArea","doneCropping","appBar","cropContainer","cropShape","aspect","onCropChange","onZoomChange","onImageLoaded","SignUp","lazy","PasswordReset","About","Home","DialogDemo","ToastDemo","FilterDemo","ListPageDemo","TabsDemo","MyAccount","SignIn","Verify2","SearchPage","SearchQuick","SearchResult","CollectPage","CollectPage2","PrivacyPolicy","AboutUs","ColumnPage","Login1_1","Login1_2","Register0_1","ResetPassword","NearByPathway","Attraction","Pathway","Announcement","routes","path","redirectTo","exact","component","themes","red","source","palette","primary","secondary","pink","green","getMenuItems","intl","updateLocale","menuContext","themeContext","a2HSContext","authData","auth","toggleThis","isDesktop","isAuthMenuOpen","isMiniSwitchVisibility","themeID","setThemeID","isRTL","toggleThisTheme","setAuth","isAppInstallable","isAppInstalled","deferredPrompt","localeItems","allLocales","l","visible","primaryText","formatMessage","leftIcon","Language","isAuthorised","isAuthenticated","themeItems","allThemes","t","Style","defaultMessage","AccountBox","ExitToApp","Lock","Dashboard","primaryTogglesNestedList","Web","nestedItems","ChatBubble","QuestionAnswer","FilterList","ViewList","Tab","InfoOutlined","divider","secondaryText","MenuOpen","ChromeReaderMode","prompt","GetApp","config","signInURL","defaultLocale","parseLanguages","onError","e","menu","defaultThemeID","defaultIsDarkMode","defaultIsRTL","pages","LandingPage","PageNotFound","merge","MUIConfig","_config","Demo","Component","https","process","createAxios","post","window","render"],"mappings":"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","file":"static/js/main.5f1660b2.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst demoapi = axios.create({\r\n  baseURL: \"http://ace033ded550.ngrok.io/\",\r\n  headers: { \"X-Secure-Code\": \"12345678\", },\r\n});\r\nexport default demoapi;\r\n","const locales = [\r\n  {\r\n    locale: 'en',\r\n    messages: import('./en'),\r\n    //loadData: import(`@formatjs/intl-relativetimeformat/dist/locale-data/en`),\r\n  },\r\n  {\r\n    locale: 'ru',\r\n    messages: import('./ru'),\r\n    //loadData: import(`@formatjs/intl-relativetimeformat/dist/locale-data/ru`),\r\n  },\r\n  {\r\n    locale: 'de',\r\n    messages: import('./de'),\r\n    //loadData: import(`@formatjs/intl-relativetimeformat/dist/locale-data/de`),\r\n  },\r\n]\r\n\r\nexport default locales\r\n","import React, { useState } from \"react\";\r\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\r\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\r\nimport { Redirect } from \"react-router\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { Snackbar } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  alertShown: {\r\n    opacity: 1,\r\n    transition: \"all 250ms linear\",\r\n    zIndex: 1\r\n  },\r\n  alertHidden: {\r\n    opacity: 0,\r\n    transition: \"all 250ms linear\"\r\n  }\r\n}));\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2)\r\n  }\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)(props => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles(theme => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n    width: 286\r\n  }\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles(theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1)\r\n  }\r\n}))(MuiDialogActions);\r\n\r\nconst AvatarUploadDialog = props => {\r\n  const classes = useStyles();\r\n  const isOpen = props.isOpen;\r\n  const closeDialog = props.closeDialog;\r\n  const triggerImageInput = props.triggerImageInput;\r\n  const inputRef = props.inputRef;\r\n  const pData = props.pData;\r\n  console.log(pData);\r\n  const [file, setFile] = useState(null);\r\n  const [showAlert, setshowAlert] = useState(false);\r\n\r\n  const handleInputChange = event => {\r\n    if (!event.target.files[0]) return;\r\n    if (event.target.files[0].size > 1048576) {\r\n      setshowAlert(true);\r\n    } else {\r\n      setFile(URL.createObjectURL(event.target.files[0]));\r\n    }\r\n  };\r\n  const handleClose = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n    setshowAlert(false);\r\n  };\r\n  if (file)\r\n    return (\r\n      <Redirect\r\n        to={{ pathname: \"/cropAvatar\", state: { image: file, pData: pData } }}\r\n      />\r\n    );\r\n  return (\r\n    <>\r\n      <Dialog\r\n        onClose={closeDialog}\r\n        aria-labelledby=\"customized-dialog-title\"\r\n        open={isOpen}\r\n      >\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={true}>\r\n          編輯個人檔案圖片\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Typography style={{ color: \"#919191\" }} gutterBottom>\r\n            請選擇您的個人頭貼\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button autoFocus onClick={false} style={{ color: \"#007aff\" }}>\r\n            拍攝相片\r\n          </Button>\r\n        </DialogActions>\r\n        <DialogActions>\r\n          <input\r\n            ref={inputRef}\r\n            type=\"file\"\r\n            id=\"avatar_img\"\r\n            name=\"avatar_img\"\r\n            accept=\"image/*\"\r\n            onChange={event => {\r\n              handleInputChange(event);\r\n            }}\r\n            hidden\r\n          />\r\n          <Button\r\n            autoFocus\r\n            onClick={triggerImageInput}\r\n            style={{ color: \"#007aff\" }}\r\n          >\r\n            從相簿中選取\r\n          </Button>\r\n        </DialogActions>\r\n        <DialogActions>\r\n          <Button autoFocus onClick={closeDialog} style={{ color: \"#007aff\" }}>\r\n            取消\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Snackbar open={showAlert} autoHideDuration={3000} onClose={handleClose}>\r\n        <Alert severity=\"error\">圖片不可大於1mb! 請重新選擇圖片。</Alert>\r\n      </Snackbar>\r\n    </>\r\n  );\r\n};\r\nexport default AvatarUploadDialog;\r\n","import React, { useRef, useState } from \"react\";\r\nimport AvatarUploadDialog from \"./AvatarUploadDialog\";\r\n\r\nconst AvatarUploadDialogLogic = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const inputRef = useRef();\r\n  const openDialog = () => {\r\n    //開彈跳視窗\r\n    setIsOpen(true);\r\n  };\r\n  const closeDialog = () => {\r\n    //關彈跳視窗\r\n    setIsOpen(false);\r\n  };\r\n  const triggerImageInput = () => {\r\n    //觸發頭貼input\r\n    inputRef.current.click();\r\n  };\r\n\r\n  return { isOpen, openDialog, closeDialog, inputRef, triggerImageInput };\r\n};\r\n\r\nexport default AvatarUploadDialogLogic;\r\n","import demoapi from \"axios/api\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nconst PersonalPageLogic = (info = null) => {\r\n  const [isLoading, setisLoading] = useState(info ? false : true);\r\n  const [personalInfo, setpersonalInfo] = useState(info ? info : {});\r\n  const [nameValidation, setnameValidation] = useState(\"\");\r\n  const [genderValidation, setgenderValidation] = useState(\"\");\r\n  const [phoneValidation, setphoneValidation] = useState(\"\");\r\n  const [birthValidation, setbirthValidation] = useState(\"\");\r\n  const [countyValidation, setcountyValidation] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (!info) getPersonalInfo();\r\n  }, [info]);\r\n  const getPersonalInfo = async () => {\r\n    const uid = localStorage.getItem(\"userId\")\r\n      ? localStorage.getItem(\"userId\")\r\n      : 1;\r\n    await demoapi.get(\"/api/user/\" + uid).then(res => {\r\n      setisLoading(false);\r\n      res.data.users.gender = res.data.users.gender ? \"男\" : \"女\";\r\n      console.log(res.data.users.name);\r\n      setpersonalInfo(res.data);\r\n    });\r\n  };\r\n\r\n  const handleNameChange = event => {\r\n    const value = event.target.value;\r\n    setpersonalInfo({\r\n      ...personalInfo,\r\n      users: { ...personalInfo.users, name: value }\r\n    });\r\n    if (value == \"\") {\r\n      setnameValidation(\"姓名不可為空\");\r\n    } else {\r\n      setnameValidation(\"\");\r\n    }\r\n  };\r\n\r\n  const handleSexChange = event => {\r\n    const value = event.target.value;\r\n    setpersonalInfo({\r\n      ...personalInfo,\r\n      users: { ...personalInfo.users, gender: value }\r\n    });\r\n    if (value == \"男\" || value == \"女\") {\r\n      setgenderValidation(\"\");\r\n    } else {\r\n      setgenderValidation(\"請填入 男 或 女\");\r\n    }\r\n  };\r\n\r\n  const handleTelChange = event => {\r\n    const value = event.target.value;\r\n    setpersonalInfo({\r\n      ...personalInfo,\r\n      users: { ...personalInfo.users, phone_number: value }\r\n    });\r\n    let reg = new RegExp(/^\\d*$/).test(value);\r\n    if (reg) {\r\n      setphoneValidation(\"\");\r\n    } else {\r\n      setphoneValidation(\"只允許數字\");\r\n    }\r\n  };\r\n  const handleBirthChange = event => {\r\n    const value = event.target.value;\r\n    setpersonalInfo({\r\n      ...personalInfo,\r\n      users: { ...personalInfo.users, birth: value }\r\n    });\r\n  };\r\n\r\n  const handleCountyChange = event => {\r\n    const value = event.target.value;\r\n    setpersonalInfo({\r\n      ...personalInfo,\r\n      users: {\r\n        ...personalInfo.users,\r\n        county: { ...personalInfo.users.county, name: value }\r\n      }\r\n    });\r\n  };\r\n  const getBase64 = file => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = error => reject(error);\r\n    });\r\n  };\r\n\r\n  const updateInfo = async data => {\r\n    setisLoading(true);\r\n    const uid = localStorage.getItem(\"userId\")\r\n      ? localStorage.getItem(\"userId\")\r\n      : 1;\r\n    if (data.croppedImage) {\r\n      let blob = await fetch(data.croppedImage).then(r => r.blob());\r\n      const file = new File([blob], \"1234567890.jpg\", {\r\n        lastModified: new Date(),\r\n        type: \"image/jpeg\"\r\n      });\r\n      const b64 = await getBase64(file);\r\n      data.croppedImage = b64;\r\n    }\r\n    return demoapi\r\n      .put(\"/api/user/\" + uid, {\r\n        name: data.name,\r\n        gender: data.gender,\r\n        phone_number: data.phone_number,\r\n        birth: data.birth,\r\n        image: data.croppedImage ? data.croppedImage : data.image,\r\n        county: data.county,\r\n        country_code_id: data.countryCode\r\n      })\r\n      .then(res => {\r\n        return res.status;\r\n      });\r\n  };\r\n\r\n  return {\r\n    isLoading,\r\n    personalInfo,\r\n    handleNameChange,\r\n    handleSexChange,\r\n    handleTelChange,\r\n    handleBirthChange,\r\n    handleCountyChange,\r\n    updateInfo,\r\n    getPersonalInfo,\r\n    validations: {\r\n      nameValidation,\r\n      genderValidation,\r\n      phoneValidation,\r\n      birthValidation,\r\n      countyValidation\r\n    }\r\n  };\r\n};\r\nexport default PersonalPageLogic;\r\n","import React from \"react\";\r\nimport {\r\n  makeStyles,\r\n  withStyles\r\n} from \"@material-ui/core/styles\";\r\nimport { Avatar, Backdrop, CircularProgress, Divider, Grid } from \"@material-ui/core\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport AvatarUploadDialog from \"components/Dialog/AvatarUploadDialog\";\r\nimport AvatarUploadDialogLogic from \"components/Dialog/AvatarUploadDialogLogic\";\r\nimport PersonalPageLogic from \"./personalPageLogic\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  top_bar_bg_color: {\r\n    backgroundColor: \"#3c5754\",\r\n    height: 56\r\n  },\r\n  textfield_container: {\r\n    marginTop: 15,\r\n    background: \"white\"\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    marginLeft: 32\r\n  },\r\n  avatar: {\r\n    width: 96,\r\n    height: 96\r\n  },\r\n  gridMargin: {\r\n    marginTop: 32\r\n  },\r\n  textfield: {\r\n    marginTop: 8,\r\n    marginBottom: 8,\r\n    paddingLeft: 24,\r\n    flexGrow: 1,\r\n    width: \"100%\"\r\n  },\r\n  textfield_phone: {\r\n    marginTop: 8,\r\n    marginBottom: 8,\r\n    flexGrow: 1,\r\n    width: \"100%\"\r\n  },\r\n  textfield_country_code: {\r\n    marginTop: 8,\r\n    marginBottom: 8\r\n  },\r\n  textLabel: {\r\n    paddingLeft: 15\r\n  },\r\n  finishButton: {\r\n    padding: 0,\r\n    paddingLeft: 40\r\n  },\r\n  avatarOverlay: {\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    height: \"20%\",\r\n    width: \"100%\",\r\n    backgroundColor: \"black\",\r\n    textAlign: \"center\",\r\n    verticalAlign: \"middle\",\r\n    lineHeight: \"150%\",\r\n    color: \"white\",\r\n    fontSize: 12,\r\n    opacity: \"80%\"\r\n  },\r\n  avatarContainer: {\r\n    background: \"yellow\",\r\n    width: 96,\r\n    height: 96,\r\n    position: \"relative\",\r\n    borderRadius: \"50% 50%\",\r\n    margin: 0,\r\n    padding: 0,\r\n    zIndex: 100,\r\n    overflow: \"hidden\"\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"#fff\"\r\n  }\r\n}));\r\nconst DisabledTextField = withStyles({\r\n  root: {\r\n    \"& .MuiInputBase-root.Mui-disabled\": {\r\n      color: \"rgba(0, 0, 0, 1)\"\r\n    },\r\n    \"& .MuiInput-underline.Mui-disabled:before\": {\r\n      borderBottom: \"solid 1px rgba(0, 0, 0, 0.12)\"\r\n    }\r\n  }\r\n})(TextField);\r\n\r\nfunction PersonalPage(props) {\r\n  const history = useHistory();\r\n\r\n  const Logix = PersonalPageLogic();\r\n  const croppedImage =\r\n    props.location.state === undefined\r\n      ? null\r\n      : props.location.state.croppedImage;\r\n  if (croppedImage) {\r\n    props.location.state.croppedImage = null;\r\n    if (croppedImage.search(\"blob:\") == -1) {\r\n      croppedImage = null;\r\n    }\r\n  }\r\n  const {\r\n    isOpen,\r\n    openDialog,\r\n    closeDialog,\r\n    inputRef,\r\n    triggerImageInput\r\n  } = AvatarUploadDialogLogic();\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" style={{ background: \"#3c5754\" }}>\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"back\"\r\n            onClick={() => history.goBack()}\r\n          >\r\n            <ArrowBackIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            個人檔案\r\n          </Typography>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            edge=\"end\"\r\n            onClick={() => {\r\n              history.push({\r\n                pathname: \"/editAccount\",\r\n                state: { pData: Logix.personalInfo }\r\n              });\r\n            }}\r\n          >\r\n            <EditIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Grid\r\n        container\r\n        direction=\"column\"\r\n        alignItems=\"center\"\r\n        justify=\"flex-start\"\r\n        className={classes.gridMargin}\r\n      >\r\n        <Grid\r\n          item\r\n          xs={12}\r\n          container\r\n          direction=\"column\"\r\n          alignItems=\"center\"\r\n          justify=\"flex-start\"\r\n          spacing={2}\r\n        >\r\n          <Grid item xs={12}>\r\n            <div className={classes.avatarContainer}>\r\n              <Avatar\r\n                src={\r\n                  croppedImage == null\r\n                    ? Logix.personalInfo.users\r\n                      ? Logix.personalInfo.users.image\r\n                      : \"\"\r\n                    : croppedImage\r\n                }\r\n                className={classes.avatar}\r\n              />\r\n            </div>\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            container\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n            justify=\"flex-start\"\r\n            spacing={0.5}\r\n          >\r\n            {true ? (\r\n              <>\r\n                <Grid item xs={12}>\r\n                  <Typography variant=\"h6\" style={{ color: \"#232323\" }}>\r\n                    {Logix.personalInfo.users\r\n                      ? Logix.personalInfo.users.name\r\n                      : \"loading\"}\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <Typography variant=\"h7\" style={{ color: \"#919191\" }}>\r\n                    {Logix.personalInfo.users\r\n                      ? Logix.personalInfo.users.email\r\n                      : \"loading\"}\r\n                  </Typography>\r\n                </Grid>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Grid item xs={12}>\r\n                  <Typography variant=\"h7\" style={{ color: \"#919191\" }}>\r\n                    {Logix.personalInfo.email\r\n                      ? Logix.personalInfo.email\r\n                      : \"loading\"}\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <div style={{ height: 32 }} />\r\n                </Grid>\r\n              </>\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          xs={12}\r\n          container\r\n          direction=\"column\"\r\n          alignItems=\"center\"\r\n          justify=\"flex-start\"\r\n        >\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            container\r\n            direction=\"row\"\r\n            alignItems=\"center\"\r\n            justify=\"flex-start\"\r\n            className={classes.textfield_container}\r\n            spacing={0}\r\n          >\r\n            <Grid item xs={12}>\r\n              <Divider />\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Typography variant=\"body1\" className={classes.textLabel}>\r\n                姓名\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={9}>\r\n              <DisabledTextField\r\n                disabled={true}\r\n                id=\"standard-basic\"\r\n                placeholder=\"姓名\"\r\n                className={classes.textfield}\r\n                inputProps={{\r\n                  value:\r\n                    Logix.personalInfo.users === undefined\r\n                      ? \"\"\r\n                      : Logix.personalInfo.users.name,\r\n                  underline: {\r\n                    color: \"red\",\r\n                    \"&::before\": {\r\n                      borderBottom: \"2px solid red\"\r\n                    }\r\n                  }\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Typography variant=\"body1\" className={classes.textLabel}>\r\n                性別\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={9}>\r\n              <DisabledTextField\r\n                disabled={true}\r\n                id=\"standard-basic\"\r\n                placeholder=\"性別\"\r\n                className={classes.textfield}\r\n                inputProps={{\r\n                  value:\r\n                    Logix.personalInfo.users === undefined\r\n                      ? \"\"\r\n                      : Logix.personalInfo.users.gender,\r\n                  readOnly: true\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Typography variant=\"body1\" className={classes.textLabel}>\r\n                國碼\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={9}>\r\n              <div className={classes.textfield}>\r\n                <DisabledTextField\r\n                  disabled={true}\r\n                  placeholder=\"國碼\"\r\n                  labelId=\"country-code\"\r\n                  id=\"country-code\"\r\n                  style={{ width: \"30%\" }}\r\n                  className={classes.textfield_country_code}\r\n                  inputProps={{\r\n                    value:\r\n                      Logix.personalInfo.users === undefined\r\n                        ? \"\"\r\n                        : Logix.personalInfo.countrycodes[\r\n                            Logix.personalInfo.users.country_code_id - 1\r\n                          ].phone_code\r\n                  }}\r\n                />\r\n                <DisabledTextField\r\n                  disabled={true}\r\n                  id=\"standard-basic\"\r\n                  placeholder=\"手機\"\r\n                  style={{ width: \"70%\" }}\r\n                  className={classes.textfield_phone}\r\n                  inputProps={{\r\n                    value:\r\n                      Logix.personalInfo.users === undefined\r\n                        ? \"\"\r\n                        : Logix.personalInfo.users.phone_number\r\n                  }}\r\n                />\r\n              </div>\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Typography variant=\"body1\" className={classes.textLabel}>\r\n                生日\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={9}>\r\n              <DisabledTextField\r\n                disabled={true}\r\n                id=\"standard-basic\"\r\n                placeholder=\"生日\"\r\n                className={classes.textfield}\r\n                type=\"date\"\r\n                InputLabelProps={{\r\n                  shrink: true\r\n                }}\r\n                inputProps={{\r\n                  value:\r\n                    Logix.personalInfo.users === undefined\r\n                      ? \"\"\r\n                      : Logix.personalInfo.users.birth\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Typography variant=\"body1\" className={classes.textLabel}>\r\n                居住地\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={9}>\r\n              <DisabledTextField\r\n                disabled={true}\r\n                id=\"standard-basic\"\r\n                placeholder=\"居住地\"\r\n                className={classes.textfield}\r\n                inputProps={{\r\n                  value:\r\n                    Logix.personalInfo.users === undefined\r\n                      ? \"\"\r\n                      : Logix.personalInfo.users.county\r\n                      ? Logix.personalInfo.users.county.name\r\n                      : \"\"\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n      <AvatarUploadDialog\r\n        isOpen={isOpen}\r\n        triggerImageInput={triggerImageInput}\r\n        closeDialog={closeDialog}\r\n        inputRef={inputRef}\r\n      />\r\n      <Backdrop className={classes.backdrop} open={Logix.isLoading}>\r\n        <CircularProgress />\r\n      </Backdrop>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PersonalPage;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Avatar,\r\n  Backdrop,\r\n  Button,\r\n  CircularProgress,\r\n  Divider,\r\n  Grid,\r\n  NativeSelect\r\n} from \"@material-ui/core\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport AvatarUploadDialog from \"components/Dialog/AvatarUploadDialog\";\r\nimport AvatarUploadDialogLogic from \"components/Dialog/AvatarUploadDialogLogic\";\r\nimport { countryInfo } from \"../../data/countryInfo\";\r\nimport PersonalPageLogic from \"./personalPageLogic\";\r\nimport { useHistory } from \"react-router\";\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  top_bar_bg_color: {\r\n    backgroundColor: \"#3c5754\",\r\n    height: 56\r\n  },\r\n  textfield_container: {\r\n    marginTop: 15,\r\n    background: \"white\"\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    marginLeft: 32\r\n  },\r\n  avatar: {\r\n    width: 96,\r\n    height: 96\r\n  },\r\n  gridMargin: {\r\n    marginTop: 32\r\n  },\r\n  textfield: {\r\n    marginTop: 8,\r\n    marginBottom: 8,\r\n    paddingLeft: 24,\r\n    flexGrow: 1,\r\n    width: \"100%\"\r\n  },\r\n  textfield_phone: {\r\n    marginTop: 8,\r\n    marginBottom: 8,\r\n    flexGrow: 1,\r\n    width: \"100%\"\r\n  },\r\n  textLabel: {\r\n    paddingLeft: 15\r\n  },\r\n  finishButton: {\r\n    padding: 0,\r\n    paddingLeft: 40\r\n  },\r\n  avatarOverlay: {\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    height: \"20%\",\r\n    width: \"100%\",\r\n    backgroundColor: \"black\",\r\n    textAlign: \"center\",\r\n    verticalAlign: \"middle\",\r\n    lineHeight: \"150%\",\r\n    color: \"white\",\r\n    fontSize: 12,\r\n    opacity: \"80%\"\r\n  },\r\n  avatarContainer: {\r\n    background: \"yellow\",\r\n    width: 96,\r\n    height: 96,\r\n    position: \"relative\",\r\n    borderRadius: \"50% 50%\",\r\n    margin: 0,\r\n    padding: 0,\r\n    zIndex: 100,\r\n    overflow: \"hidden\"\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"#fff\"\r\n  }\r\n}));\r\n\r\nfunction EditAccount(props) {\r\n  const history = useHistory();\r\n  if (props.location.state === undefined) {\r\n    history.push({\r\n      pathname: \"/personalPage\"\r\n    });\r\n  }\r\n  const pData = props.location.state ? props.location.state.pData : {};\r\n  const {\r\n    personalInfo,\r\n    handleNameChange,\r\n    handleSexChange,\r\n    handleTelChange,\r\n    handleBirthChange,\r\n    handleCountyChange,\r\n    updateInfo,\r\n    isLoading,\r\n    validations\r\n  } = PersonalPageLogic(pData);\r\n  console.log(personalInfo);\r\n  const croppedImage =\r\n    props.location.state === undefined\r\n      ? null\r\n      : props.location.state.croppedImage;\r\n  const {\r\n    isOpen,\r\n    openDialog,\r\n    closeDialog,\r\n    inputRef,\r\n    triggerImageInput\r\n  } = AvatarUploadDialogLogic();\r\n  const collectData = async () => {\r\n    const data = {\r\n      name: personalInfo.users.name,\r\n      gender: personalInfo.users.gender === \"男\" ? 1 : 0,\r\n      phone_number: personalInfo.users.phone_number,\r\n      birth: personalInfo.users.birth,\r\n      croppedImage: croppedImage,\r\n      image: personalInfo.users.image,\r\n      county: personalInfo.users.county.name,\r\n      countryCode: document.getElementById(\"country-code\").value\r\n    };\r\n    const apiResult = await updateInfo(data);\r\n    if (apiResult == 200)\r\n      history.push({\r\n        pathname: \"/personalPage\"\r\n      });\r\n  };\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" style={{ background: \"#3c5754\" }}>\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"back\"\r\n            onClick={() => history.goBack()}\r\n          >\r\n            <ArrowBackIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            個人檔案\r\n          </Typography>\r\n          <Button\r\n            className={classes.finishButton}\r\n            color=\"inherit\"\r\n            edge=\"end\"\r\n            onClick={() => {\r\n              if (\r\n                !validations.nameValidation &&\r\n                !validations.genderValidation &&\r\n                !validations.phoneValidation\r\n              ) {\r\n                collectData();\r\n              }\r\n            }}\r\n          >\r\n            完成\r\n          </Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Grid\r\n        container\r\n        direction=\"column\"\r\n        alignItems=\"center\"\r\n        justify=\"flex-start\"\r\n        className={classes.gridMargin}\r\n      >\r\n        <Grid\r\n          item\r\n          xs={12}\r\n          container\r\n          direction=\"column\"\r\n          alignItems=\"center\"\r\n          justify=\"flex-start\"\r\n          spacing={2}\r\n        >\r\n          <Grid item xs={12}>\r\n            <div className={classes.avatarContainer}>\r\n              <Avatar\r\n                // alt=\"Profile Picture\"\r\n                src={\r\n                  croppedImage\r\n                    ? croppedImage\r\n                    : personalInfo.users\r\n                    ? personalInfo.users.image\r\n                    : \"\"\r\n                }\r\n                className={classes.avatar}\r\n              />\r\n              <div\r\n                class={classes.avatarOverlay}\r\n                onClick={() => {\r\n                  openDialog();\r\n                }}\r\n              >\r\n                更換\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            container\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n            justify=\"flex-start\"\r\n            spacing={0.5}\r\n          >\r\n            <>\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h7\" style={{ color: \"#919191\" }}>\r\n                  {personalInfo.users ? personalInfo.users.email : \"loading\"}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <div style={{ height: 32 }} />\r\n              </Grid>\r\n            </>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          xs={12}\r\n          container\r\n          direction=\"column\"\r\n          alignItems=\"center\"\r\n          justify=\"flex-start\"\r\n        >\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            container\r\n            direction=\"row\"\r\n            alignItems=\"center\"\r\n            justify=\"flex-start\"\r\n            className={classes.textfield_container}\r\n            spacing={0}\r\n          >\r\n            <Grid item xs={12}>\r\n              <Divider />\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Typography variant=\"body1\" className={classes.textLabel}>\r\n                姓名\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={9}>\r\n              <TextField\r\n                id=\"standard-basic\"\r\n                placeholder=\"姓名\"\r\n                error={validations.nameValidation ? true : false}\r\n                helperText={\r\n                  validations.nameValidation ? validations.nameValidation : \"\"\r\n                }\r\n                className={classes.textfield}\r\n                onChange={handleNameChange}\r\n                inputProps={{\r\n                  value: personalInfo.users ? personalInfo.users.name : \"\"\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Typography variant=\"body1\" className={classes.textLabel}>\r\n                性別\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={9}>\r\n              <TextField\r\n                id=\"standard-basic\"\r\n                error={validations.genderValidation ? true : false}\r\n                helperText={\r\n                  validations.genderValidation\r\n                    ? validations.genderValidation\r\n                    : \"\"\r\n                }\r\n                placeholder=\"性別\"\r\n                onChange={handleSexChange}\r\n                className={classes.textfield}\r\n                inputProps={{\r\n                  value: personalInfo.users ? personalInfo.users.gender : \"\"\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Typography variant=\"body1\" className={classes.textLabel}>\r\n                國碼\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={9}>\r\n              <div className={classes.textfield}>\r\n                <NativeSelect\r\n                  labelId=\"country-code\"\r\n                  id=\"country-code\"\r\n                  style={{ width: \"30%\" }}\r\n                  className={classes.textfield}\r\n                >\r\n                  <option\r\n                    key={\"default\"}\r\n                    value={\r\n                      personalInfo.countrycodes[\r\n                        personalInfo.users.country_code_id - 1\r\n                      ].id\r\n                    }\r\n                  >\r\n                    {\r\n                      personalInfo.countrycodes[\r\n                        personalInfo.users.country_code_id - 1\r\n                      ].phone_code\r\n                    }\r\n                  </option>\r\n                  {personalInfo.countrycodes.map(info => (\r\n                    <option\r\n                      key={info.country_code + info.country_name}\r\n                      value={info.id}\r\n                    >\r\n                      {info.phone_code}\r\n                    </option>\r\n                  ))}\r\n                </NativeSelect>\r\n                <TextField\r\n                  id=\"standard-basic\"\r\n                  placeholder=\"手機\"\r\n                  error={validations.phoneValidation ? true : false}\r\n                  helperText={\r\n                    validations.phoneValidation\r\n                      ? validations.phoneValidation\r\n                      : \"\"\r\n                  }\r\n                  style={{ width: \"70%\" }}\r\n                  className={classes.textfield_phone}\r\n                  onChange={handleTelChange}\r\n                  inputProps={{\r\n                    value: personalInfo.users\r\n                      ? personalInfo.users.phone_number\r\n                      : \"\"\r\n                  }}\r\n                />\r\n              </div>\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Typography variant=\"body1\" className={classes.textLabel}>\r\n                生日\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={9}>\r\n              <TextField\r\n                id=\"standard-basic\"\r\n                placeholder=\"生日\"\r\n                className={classes.textfield}\r\n                type=\"date\"\r\n                onChange={handleBirthChange}\r\n                InputLabelProps={{\r\n                  shrink: true\r\n                }}\r\n                inputProps={{\r\n                  value: personalInfo.users ? personalInfo.users.birth : \"\"\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Typography variant=\"body1\" className={classes.textLabel}>\r\n                居住地\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={9}>\r\n              <TextField\r\n                id=\"standard-basic\"\r\n                placeholder=\"居住地\"\r\n                onChange={handleCountyChange}\r\n                className={classes.textfield}\r\n                inputProps={{\r\n                  value: personalInfo.users\r\n                    ? personalInfo.users.county\r\n                      ? personalInfo.users.county.name\r\n                      : \"\"\r\n                    : \"\"\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n      <AvatarUploadDialog\r\n        isOpen={isOpen}\r\n        triggerImageInput={triggerImageInput}\r\n        closeDialog={closeDialog}\r\n        inputRef={inputRef}\r\n        pData={personalInfo}\r\n      />\r\n      <Backdrop className={classes.backdrop} open={isLoading}>\r\n        <CircularProgress />\r\n      </Backdrop>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditAccount;\r\n","const createImage = url =>\r\n  new Promise((resolve, reject) => {\r\n    const image = new Image();\r\n    image.addEventListener(\"load\", () => resolve(image));\r\n    image.addEventListener(\"error\", error => reject(error));\r\n    image.setAttribute(\"crossOrigin\", \"anonymous\"); // needed to avoid cross-origin issues on CodeSandbox\r\n    image.src = url;\r\n  });\r\n\r\nfunction getRadianAngle(degreeValue) {\r\n  return (degreeValue * Math.PI) / 180;\r\n}\r\n\r\n/**\r\n * This function was adapted from the one in the ReadMe of https://github.com/DominicTobias/react-image-crop\r\n * @param {File} image - Image File url\r\n * @param {Object} pixelCrop - pixelCrop Object provided by react-easy-crop\r\n * @param {number} rotation - optional rotation parameter\r\n */\r\nexport default async function getCroppedImg(imageSrc, pixelCrop, rotation = 0) {\r\n  const image = await createImage(imageSrc);\r\n  const canvas = document.createElement(\"canvas\");\r\n  const ctx = canvas.getContext(\"2d\");\r\n\r\n  const maxSize = Math.max(image.width, image.height);\r\n  const safeArea = 2 * ((maxSize / 2) * Math.sqrt(2));\r\n\r\n  // set each dimensions to double largest dimension to allow for a safe area for the\r\n  // image to rotate in without being clipped by canvas context\r\n  canvas.width = safeArea;\r\n  canvas.height = safeArea;\r\n\r\n  // translate canvas context to a central location on image to allow rotating around the center.\r\n  ctx.translate(safeArea / 2, safeArea / 2);\r\n  ctx.rotate(getRadianAngle(rotation));\r\n  ctx.translate(-safeArea / 2, -safeArea / 2);\r\n\r\n  // draw rotated image and store data.\r\n  ctx.drawImage(\r\n    image,\r\n    safeArea / 2 - image.width * 0.5,\r\n    safeArea / 2 - image.height * 0.5\r\n  );\r\n  const data = ctx.getImageData(0, 0, safeArea, safeArea);\r\n\r\n  // set canvas width to final desired crop size - this will clear existing context\r\n  canvas.width = pixelCrop.width;\r\n  canvas.height = pixelCrop.height;\r\n\r\n  // paste generated rotate image with correct offsets for x,y crop values.\r\n  ctx.putImageData(\r\n    data,\r\n    Math.round(0 - safeArea / 2 + image.width * 0.5 - pixelCrop.x),\r\n    Math.round(0 - safeArea / 2 + image.height * 0.5 - pixelCrop.y)\r\n  );\r\n\r\n  // As Base64 string\r\n  // return canvas.toDataURL('image/jpeg');\r\n\r\n  // As a blob\r\n  return new Promise(resolve => {\r\n    canvas.toBlob(file => {\r\n      resolve(URL.createObjectURL(file));\r\n    }, \"image/jpeg\");\r\n  });\r\n}\r\n","import React, { useState, useCallback } from \"react\";\r\nimport Cropper from \"react-easy-crop\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport getCroppedImg from \"./cropImage\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  imgContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    marginTop: 88\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    marginLeft: 32\r\n  },\r\n  finishButton: {\r\n    padding: 0,\r\n    paddingLeft: 40\r\n  }\r\n}));\r\nconst CropAvatar = props => {\r\n  const history = useHistory();\r\n  const selectedImage = props.location.state\r\n    ? props.location.state.image\r\n    : null;\r\n  if (!selectedImage) {\r\n    history.goBack();\r\n  }\r\n  const pData = props.location.state.pData;\r\n  const [crop, setCrop] = useState({ x: 0, y: 0 });\r\n  const [zoom, setZoom] = useState(1);\r\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\r\n\r\n  const onCropComplete = useCallback((croppedArea, croppedAreaPixels) => {\r\n    setCroppedAreaPixels(croppedAreaPixels);\r\n  }, []);\r\n\r\n  const doneCropping = useCallback(async () => {\r\n    try {\r\n      const croppedImage = await getCroppedImg(\r\n        selectedImage,\r\n        croppedAreaPixels\r\n      );\r\n      console.log(\"donee\", { croppedImage });\r\n      props.history.push({\r\n        pathname: \"/editAccount\",\r\n        state: { croppedImage: croppedImage, pData: pData }\r\n      });\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }, [croppedAreaPixels]);\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar\r\n        className={classes.appBar}\r\n        position=\"relative\"\r\n        style={{ background: \"#3c5754\" }}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"back\"\r\n            onClick={() =>\r\n              history.push({\r\n                pathname: \"/editAccount\",\r\n                state: { pData: pData }\r\n              })\r\n            }\r\n          >\r\n            <ArrowBackIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            個人檔案相片\r\n          </Typography>\r\n\r\n          <Button\r\n            className={classes.finishButton}\r\n            color=\"inherit\"\r\n            edge=\"end\"\r\n            onClick={() => {\r\n              doneCropping();\r\n            }}\r\n          >\r\n            下一步\r\n          </Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div className={classes.imgContainer}>\r\n        <div className={classes.cropContainer}>\r\n          <Cropper\r\n            cropShape=\"round\"\r\n            image={selectedImage}\r\n            crop={crop}\r\n            zoom={zoom}\r\n            aspect={1 / 1}\r\n            onCropChange={setCrop}\r\n            onZoomChange={setZoom}\r\n            onCropComplete={onCropComplete}\r\n            onImageLoaded={res => {\r\n              console.log(res);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default CropAvatar;\r\n","/* eslint-disable react/jsx-key */\r\nimport React, { lazy } from 'react'\r\nimport AuthorizedRoute from 'base-shell/lib/components/AuthorizedRoute/AuthorizedRoute'\r\nimport UnauthorizedRoute from 'base-shell/lib/components/UnauthorizedRoute/UnauthorizedRoute'\r\nimport { Route } from 'react-router-dom'\r\nimport PersonalPage from 'pages/PersonalPage'\r\nimport EditAccount from 'pages/PersonalPage/EditAccount'\r\nimport CropAvatar from 'pages/PersonalPage/CropAvatar'\r\n\r\n\r\n// const SignIn = lazy(() => import('../pages/SignIn/SignIn'))\r\nconst SignUp = lazy(() => import('../pages/SignUp/SignUp'))\r\nconst PasswordReset = lazy(() => import('../pages/PasswordReset/PasswordReset'))\r\nconst About = lazy(() => import('../pages/About'))\r\nconst Home = lazy(() => import('../pages/Home/Home'))\r\nconst DialogDemo = lazy(() => import('../pages/DialogDemo/DialogDemo'))\r\nconst ToastDemo = lazy(() => import('../pages/ToastDemo/ToastDemo'))\r\nconst FilterDemo = lazy(() => import('../pages/FilterDemo'))\r\nconst ListPageDemo = lazy(() => import('../pages/ListPageDemo'))\r\nconst TabsDemo = lazy(() => import('../pages/TabsDemo'))\r\nconst MyAccount = lazy(() => import('../pages/MyAccount/MyAccount'))\r\n\r\nconst SignIn = lazy(() => import('../pages/HikingFrontend/SignIn'))\r\nconst Home3 = lazy(() => import('../pages/HikingFrontend/Home3'))\r\nconst Verify2 = lazy(() => import('../pages/HikingFrontend/Verify2'))\r\n\r\nconst SearchPage = lazy(() => import('../pages/SearchPage/SearchPage'))\r\nconst SearchQuick = lazy(() => import('../pages/SearchQuick/SearchQuick'))\r\nconst SearchResult = lazy(() => import('../pages/SearchResult/SearchResult'))\r\nconst CollectPage = lazy(() => import('../pages/CollectPage/CollectPage'))\r\nconst CollectPage2 = lazy(() => import('../pages/CollectPage/CollectPage2'))\r\n\r\nconst PrivacyPolicy = lazy(()=> import('../pages/PrivacyPolicy/PrivacyPolicy'))\r\nconst AboutUs =lazy(()=>import('../pages/AboutUs/AboutUs'))\r\nconst ColumnPage = lazy(() => import('../pages/ColumnPage/ColumnPage'))\r\n\r\nconst Login1_1 = lazy(() => import('../pages/HikingFrontend/Login1_1'))\r\nconst Login1_2 = lazy(() => import('../pages/HikingFrontend/Login1_2'))\r\nconst Register0_1 = lazy(() => import('../pages/HikingFrontend/Register0_1'))\r\nconst ResetPassword = lazy(() => import('../pages/HikingFrontend/ResetPassword'))\r\nconst NearByPathway = lazy(()=>import('../pages/HikingFrontend/NearByPathway'));\r\nconst Attraction = lazy(()=>import('../pages/HikingFrontend/Attraction'));\r\nconst Pathway = lazy(()=>import('../pages/HikingFrontend/Pathway'));\r\nconst Announcement = lazy(()=>import('../pages/HikingFrontend/Announcement'));\r\n\r\n\r\nconst routes = [\r\n  <UnauthorizedRoute path=\"/signin\" redirectTo=\"/\" exact component={SignIn} />,\r\n  <UnauthorizedRoute path=\"/signup\" redirectTo=\"/\" exact component={SignUp} />,\r\n  <UnauthorizedRoute path=\"/verify2\" redirectTo=\"/\" exact component={Verify2} />,\r\n  <UnauthorizedRoute path=\"/login1_1\" redirectTo=\"/\" exact component={Login1_1} />,\r\n  <UnauthorizedRoute path=\"/login1_2\" redirectTo=\"/\" exact component={Login1_2} />,\r\n  <UnauthorizedRoute path=\"/register0_1\" redirectTo=\"/\" exact component={Register0_1} />,\r\n  <UnauthorizedRoute path=\"/resetPassword\" redirectTo=\"/\" exact component={ResetPassword} />,\r\n\r\n  <UnauthorizedRoute\r\n    path=\"/password_reset\"\r\n    redirectTo=\"/\"\r\n    exact\r\n    component={PasswordReset}\r\n  />,\r\n  \r\n  <Route path=\"/searchPage\" exact component={SearchPage} />,\r\n  <Route path=\"/searchQuick/:id\" exact component={SearchQuick} />,\r\n  <Route path=\"/searchResult\" exact component={SearchResult} />,\r\n  <Route path=\"/personalPage\" exact component={PersonalPage} />,\r\n  <Route path=\"/editAccount\" exact component={EditAccount} />,\r\n  <Route path=\"/cropAvatar\" exact component={CropAvatar} />,\r\n  <Route path=\"/privacyPolicy\" exact component={PrivacyPolicy} />,\r\n  <Route path=\"/aboutUs\" exact component={AboutUs} />,\r\n  <Route path=\"/Home\" exact component={Home} />,\r\n  <Route path=\"/about\" exact component={About} />,\r\n  <Route path=\"/collectPage\" exact component={CollectPage} />,\r\n  <Route path=\"/collectPage2\" exact component={CollectPage2} />,\r\n  <Route path=\"/columnPage/:id\" exact component={ColumnPage} />,\r\n  <Route path=\"/NearByPathway\" exact component={NearByPathway}/>,\r\n  <Route path=\"/attraction\" exact component={Attraction}/>,\r\n  <Route path=\"/pathway\" exact component={Pathway}/>,\r\n  <Route path=\"/announcement\" exact component={Announcement}/>,\r\n  <AuthorizedRoute path=\"/my_account\" exact component={MyAccount} />,\r\n  <AuthorizedRoute path=\"/home\" exact component={Home} />,\r\n\r\n  <AuthorizedRoute path=\"/dialog_demo\" exact component={DialogDemo} />,\r\n  <AuthorizedRoute path=\"/toast_demo\" exact component={ToastDemo} />,\r\n  <AuthorizedRoute path=\"/filter_demo\" exact component={FilterDemo} />,\r\n  <AuthorizedRoute path=\"/list_page_demo\" exact component={ListPageDemo} />,\r\n  <AuthorizedRoute path=\"/tabs_demo\" exact component={TabsDemo} />,\r\n\r\n\r\n\r\n]\r\n\r\nexport default routes\r\n","import red from '@material-ui/core/colors/red'\r\nimport pink from '@material-ui/core/colors/pink'\r\nimport green from '@material-ui/core/colors/green'\r\n\r\nconst themes = [\r\n  {\r\n    id: 'default',\r\n  },\r\n  {\r\n    id: 'red',\r\n    color: red[500],\r\n    source: {\r\n      palette: {\r\n        primary: red,\r\n        secondary: pink,\r\n        error: red,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'green',\r\n    color: green[500],\r\n    source: {\r\n      palette: {\r\n        primary: green,\r\n        secondary: red,\r\n        error: red,\r\n      },\r\n    },\r\n  },\r\n]\r\n\r\nexport default themes\r\n","import React from 'react'\r\nimport {\r\n  AccountBox as AccountBoxIcon,\r\n  ChatBubble,\r\n  ChromeReaderMode,\r\n  Dashboard as DashboardIcon,\r\n  ExitToApp as ExitToAppIcon,\r\n  FilterList,\r\n  FormatTextdirectionRToL as RTLIcon,\r\n  FormatTextdirectionLToR as LTRIcon,\r\n  GetApp,\r\n  InfoOutlined,\r\n  Language as LanguageIcon,\r\n  Lock as LockIcon,\r\n  MenuOpen as MenuOpenIcon,\r\n  QuestionAnswer,\r\n  SettingsApplications as SettingsIcon,\r\n  Style as StyleIcon,\r\n  Tab,\r\n  ViewList,\r\n  Web,\r\n} from '@material-ui/icons'\r\n\r\nimport allLocales from './locales'\r\nimport allThemes from './themes'\r\n\r\nconst getMenuItems = (props) => {\r\n  const {\r\n    intl,\r\n    updateLocale,\r\n    locale,\r\n    menuContext,\r\n    themeContext,\r\n    a2HSContext,\r\n    auth: authData,\r\n  } = props\r\n\r\n  const { toggleThis, isDesktop, isAuthMenuOpen, isMiniSwitchVisibility } = menuContext\r\n  const { themeID, setThemeID, isRTL, toggleThisTheme } = themeContext\r\n\r\n  const { auth, setAuth } = authData\r\n  const { isAppInstallable, isAppInstalled, deferredPrompt } = a2HSContext\r\n\r\n  const localeItems = allLocales.map((l) => {\r\n    return {\r\n      value: undefined,\r\n      visible: true,\r\n      primaryText: intl.formatMessage({ id: l.locale }),\r\n      onClick: () => {\r\n        updateLocale(l.locale)\r\n      },\r\n      leftIcon: <LanguageIcon />,\r\n    }\r\n  })\r\n\r\n  const isAuthorised = auth.isAuthenticated\r\n\r\n  const themeItems = allThemes.map((t) => {\r\n    return {\r\n      value: undefined,\r\n      visible: true,\r\n      primaryText: intl.formatMessage({ id: t.id }),\r\n      onClick: () => {\r\n        setThemeID(t.id)\r\n      },\r\n      leftIcon: <StyleIcon style={{ color: t.color }} />,\r\n    }\r\n  })\r\n\r\n  if (isAuthMenuOpen || !isAuthorised) {\r\n    return [\r\n      {\r\n        value: '/my_account',\r\n        primaryText: intl.formatMessage({\r\n          id: 'my_account',\r\n          defaultMessage: 'My Account',\r\n        }),\r\n        leftIcon: <AccountBoxIcon />,\r\n      },\r\n      {\r\n        value: '/signin',\r\n        onClick: isAuthorised\r\n          ? () => {\r\n              setAuth({ isAuthenticated: false })\r\n            }\r\n          : () => {},\r\n        visible: true,\r\n        primaryText: isAuthorised\r\n          ? intl.formatMessage({ id: 'sign_out' })\r\n          : intl.formatMessage({ id: 'sign_in' }),\r\n        leftIcon: isAuthorised ? <ExitToAppIcon /> : <LockIcon />,\r\n      },\r\n    ]\r\n  }\r\n  return [\r\n    {\r\n      value: '/home',\r\n      visible: isAuthorised,\r\n      primaryText: intl.formatMessage({ id: 'home' }),\r\n      leftIcon: <DashboardIcon />,\r\n    },\r\n    {\r\n      primaryText: intl.formatMessage({ id: 'demos', defaultMessage: 'Demos' }),\r\n      primaryTogglesNestedList: true,\r\n      leftIcon: <Web />,\r\n      nestedItems: [\r\n        {\r\n          value: '/dialog_demo',\r\n          visible: isAuthorised,\r\n          primaryText: intl.formatMessage({\r\n            id: 'dialog_demo',\r\n            defaultMessage: 'Dialog',\r\n          }),\r\n          leftIcon: <ChatBubble />,\r\n        },\r\n        {\r\n          value: '/toast_demo',\r\n          visible: isAuthorised,\r\n          primaryText: intl.formatMessage({\r\n            id: 'toast_demo',\r\n            defaultMessage: 'Toast',\r\n          }),\r\n          leftIcon: <QuestionAnswer />,\r\n        },\r\n        {\r\n          value: '/filter_demo',\r\n          visible: isAuthorised,\r\n          primaryText: intl.formatMessage({\r\n            id: 'filter_demo',\r\n            defaultMessage: 'Filter',\r\n          }),\r\n          leftIcon: <FilterList />,\r\n        },\r\n        {\r\n          value: '/list_page_demo',\r\n          visible: isAuthorised,\r\n          primaryText: intl.formatMessage({\r\n            id: 'list_page_demo_menu',\r\n            defaultMessage: 'List Page',\r\n          }),\r\n          leftIcon: <ViewList />,\r\n        },\r\n        {\r\n          value: '/tabs_demo',\r\n          visible: isAuthorised,\r\n          primaryText: intl.formatMessage({\r\n            id: 'tabs_demo',\r\n            defaultMessage: 'Tabs Page',\r\n          }),\r\n          leftIcon: <Tab />,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      value: '/about',\r\n      visible: true,\r\n      primaryText: intl.formatMessage({ id: 'about' }),\r\n      leftIcon: <InfoOutlined />,\r\n    },\r\n    { divider: true },\r\n    {\r\n      primaryText: intl.formatMessage({ id: 'settings' }),\r\n      primaryTogglesNestedList: true,\r\n      leftIcon: <SettingsIcon />,\r\n      nestedItems: [\r\n        {\r\n          primaryText: intl.formatMessage({ id: 'theme' }),\r\n          secondaryText: intl.formatMessage({ id: themeID }),\r\n          primaryTogglesNestedList: true,\r\n          leftIcon: <StyleIcon />,\r\n          nestedItems: themeItems,\r\n        },\r\n        {\r\n          primaryText: intl.formatMessage({ id: 'language' }),\r\n          secondaryText: intl.formatMessage({ id: locale }),\r\n          primaryTogglesNestedList: true,\r\n          leftIcon: <LanguageIcon />,\r\n          nestedItems: localeItems,\r\n        },\r\n        {\r\n          visible: isDesktop ? true : false,\r\n          onClick: () => {toggleThis('isMiniSwitchVisibility')},\r\n          primaryText: intl.formatMessage({\r\n            id: 'menu_mini_mode',\r\n          }),\r\n          leftIcon: isMiniSwitchVisibility ? (\r\n            <MenuOpenIcon />\r\n          ) : (\r\n            <ChromeReaderMode />\r\n          ),\r\n        },\r\n        {\r\n          onClick: () => {toggleThisTheme('isRTL')},\r\n          primaryText: `${isRTL ? 'LTR' : 'RTL'} mode`,\r\n          leftIcon: isRTL ? <LTRIcon /> : <RTLIcon />,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      value: null,\r\n      visible: isAppInstallable && !isAppInstalled,\r\n      onClick: () => {\r\n        deferredPrompt.prompt()\r\n      },\r\n      primaryText: intl.formatMessage({\r\n        id: 'install',\r\n        defaultMessage: 'Install',\r\n      }),\r\n      leftIcon: <GetApp />,\r\n    },\r\n  ]\r\n}\r\nexport default getMenuItems\r\n ","import { lazy } from 'react'\r\nimport locales from './locales'\r\nimport routes from './routes'\r\nimport getMenuItems from './menuItems'\r\nimport themes from './themes'\r\nimport parseLanguages from 'base-shell/lib/utils/locale'\r\n\r\nconst config = {\r\n  auth: {\r\n    signInURL: '/signin',\r\n  },\r\n  routes,\r\n  locale: {\r\n    locales,\r\n    defaultLocale: parseLanguages(['en', 'de', 'ru'], 'en'),\r\n    onError: (e) => {\r\n      //console.warn(e)\r\n      return\r\n    },\r\n  },\r\n  menu: {\r\n    getMenuItems,\r\n  },\r\n  theme: {\r\n    themes,\r\n    defaultThemeID: 'red',\r\n    defaultIsDarkMode: false,\r\n    defaultIsRTL: false //change this to true for Right to Left Language support\r\n  },\r\n  pages: {\r\n    LandingPage: lazy(() => import('../pages/LandingPage/LandingPage')),\r\n    PageNotFound: lazy(() => import('../pages/PageNotFound/PageNotFound')),\r\n  },\r\n}\r\n\r\nexport default config\r\n","import React, { Component } from 'react'\r\nimport App from 'base-shell/lib'\r\nimport MUIConfig from 'material-ui-shell/lib'\r\nimport merge from 'base-shell/lib/utils/config'\r\nimport _config from './config'\r\n\r\nconst config = merge(MUIConfig, _config)\r\n\r\nexport default class Demo extends Component {\r\n  render() {\r\n    return <App config={config} />\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst https = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL,\r\n});\r\nconsole.log(process.env.REACT_APP_API_URL);\r\nconst createAxios = {\r\n  async get(url) {\r\n    return await https.get(url);\r\n  },\r\n  async post(url, data) {\r\n    return await https.post(url, data);\r\n  },\r\n};\r\n\r\nwindow.axios = createAxios;\r\n","import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport App from './App'\r\nimport './axios';\r\n\r\nrender(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}