{"version":3,"sources":["pages/SignUp/SignUp.js"],"names":["useStyles","makeStyles","container","display","flexDirection","height","arrow","margin","color","title","width","fontFamily","fontSize","fontWeight","fontStretch","fontStyle","lineHeight","letterSpacing","form","label","errorInfo","passwordInfo","privacyInfo","submit","backgroundColor","SignUp","classes","history","useHistory","useForm","register","handleSubmit","errors","watch","password","useRef","current","responsedJSON","axios","require","onSubmit","data","a","console","log","post","then","response","localStorage","setItem","token","userId","push","catch","error","finally","className","onClick","name","placeholder","fullWidth","inputRef","required","email","type","minLength","validate","value","password_repeat","message","style","variant"],"mappings":"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","file":"static/js/45.feb65176.chunk.js","sourcesContent":["import Button from '@material-ui/core/Button'\r\nimport Page from 'material-ui-shell/lib/containers/Page'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport React, { useState, useRef, useLayoutEffect } from 'react'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Input from '@material-ui/core/Input'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useAuth } from 'base-shell/lib/providers/Auth'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { useIntl } from 'react-intl'\r\nimport { useMenu } from 'material-ui-shell/lib/providers/Menu'\r\nimport axios from 'axios'\r\nimport { useForm } from 'react-hook-form';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { DateRange } from '@material-ui/icons'\r\nimport * as Yup from 'yup';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    height: `100%`,\r\n  },\r\n  arrow: {\r\n    margin: '40px 371px 0px 16px',\r\n    color: '#00d04c',\r\n  },\r\n  title: {\r\n    width: '98px',\r\n    height: '36px',\r\n    margin: '61px 297px 31px 16px',\r\n    fontFamily: 'NotoSansCJKtc',\r\n    fontSize: '24px',\r\n    fontWeight: '500',\r\n    fontStretch: 'normal',\r\n    fontStyle: 'normal',\r\n    lineHeight: '1.5',\r\n    letterSpacing: '0.5px',\r\n    color: '#232323',\r\n  },\r\n  form: {\r\n    margin: '0 16px 48px 16px',\r\n  },\r\n  label: {\r\n    width: '66px',\r\n    height: '24px',\r\n    margin: '0px 0px 31px 0px',\r\n    fontFamily: 'NotoSansCJKtc',\r\n    fontSize: '16px',\r\n    fontWeight: '500',\r\n    fontStretch: 'normal',\r\n    fontStyle: 'normal',\r\n    lineHeight: '1.5',\r\n    letterSpacing: '0.5px',\r\n    color: '#232323',\r\n  },\r\n  errorInfo: {\r\n    width: '100%',\r\n    height: '0px',\r\n    margin: '16px 321px 55px 0px',\r\n    fontFamily: 'NotoSansCJKtc',\r\n    fontSize: '14px',\r\n    fontWeight: 'normal',\r\n    fontStretch: 'normal',\r\n    fontStyle: 'normal',\r\n    lineHeight: '1.5',\r\n    letterSpacing: '0.5px',\r\n    color: '#ff3b30',\r\n  },\r\n  passwordInfo: {\r\n    width: '169px',\r\n    height: '24px',\r\n    margin: '16px 211px 55px 0px',\r\n    fontFamily: 'NotoSansCJKtc',\r\n    fontSize: '14px',\r\n    fontWeight: 'normal',\r\n    fontStretch: 'normal',\r\n    fontStyle: 'normal',\r\n    lineHeight: '1.5',\r\n    letterSpacing: '0.5px',\r\n    color: '#979797',\r\n  },\r\n  privacyInfo: {\r\n    width: '-webkit-fill-available',\r\n    height: '45px',\r\n    margin: '16px 0px 0px',\r\n    fontFamily: 'NotoSansCJKtc',\r\n    fontSize: '14px',\r\n    fontWeight: 'normal',\r\n    fontStretch: 'normal',\r\n    fontStyle: 'normal',\r\n    lineHeight: '1.5',\r\n    letterSpacing: '0.5px',\r\n    color: '#232323',\r\n  },\r\n  submit: {\r\n    width: '-webkit-fill-available',\r\n    height: '48px',\r\n    margin: '40px 0px 0px 0px',\r\n    backgroundColor: '#00d04c',\r\n    color: '#ffffff',\r\n  },\r\n})\r\n\r\nconst SignUp = () => {\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  const { register, handleSubmit, errors, watch } = useForm()\r\n  const password = useRef({});\r\n  password.current = watch(\"password\", \"\");\r\n  const axios = require('axios');\r\n  let responsedJSON;\r\n\r\n  // API POST\r\n  const onSubmit = async (data) => {\r\n    console.log(data);\r\n    await axios.post('https://gohiking-server.herokuapp.com/api/register', data)\r\n    .then(function (response) {\r\n      console.log('correct');\r\n      responsedJSON = response.data\r\n      localStorage.setItem('token', response.data.token)\r\n      localStorage.setItem('userId', response.data.userId)\r\n      history.push(\"/register0_1\");\r\n    })\r\n    .catch(function (error) {\r\n      console.log('error');\r\n      responsedJSON = error.response.data;\r\n    })\r\n    .finally(function () {\r\n      console.log(responsedJSON);\r\n    });  \r\n  }\r\n \r\n  function backhandleClick() {\r\n    history.push(\"/signin\");\r\n  }\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <ArrowBackIcon className={classes.arrow} onClick={backhandleClick} />\r\n      <div className={classes.title}>註冊帳號</div>\r\n      <form className={classes.form} onSubmit={handleSubmit(onSubmit)} >\r\n        <label className={classes.label}>電子信箱</label>\r\n        <Input name=\"email\" placeholder=\"請輸入電子信箱\" fullWidth inputRef={register({ required: true })} />\r\n        <div className={classes.errorInfo}>{errors.email && \"請輸入正確Email\"}</div>\r\n        <label className={classes.label}>密碼</label><br />\r\n        <Input name=\"password\" type=\"password\" placeholder=\"請輸入密碼\" fullWidth inputRef={\r\n                                                                        register({ \r\n                                                                          required: true,\r\n                                                                          minLength: 8\r\n                                                                        })} />                                                             \r\n        <div className={classes.errorInfo}>{errors.password && \"密碼必須包含8個字元以上\"}</div>\r\n        <label className={classes.label}>確認密碼</label><br />\r\n        <Input placeholder=\"請重新輸入密碼\" name=\"password_repeat\" type=\"password\" fullWidth inputRef={register({ \r\n                                                                validate: value =>\r\n                                                                value === password.current || \"密碼不一致！\" \r\n                                                                })} />\r\n        <div className={classes.errorInfo}>{errors.password_repeat && <p>{errors.password_repeat.message}</p>}</div>\r\n        <div className={classes.privacyInfo}>使用這個應用程式前，請先詳閱「Go Hiking」的\r\n        《<span style={{ color: '#007aff' }}>隱私權政策</span>》及《<span style={{ color: '#007aff' }}>服務條款</span>》\r\n      </div>\r\n        \r\n        <Button\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          className={classes.submit}\r\n        >\r\n          同意並註冊\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp\r\n"],"sourceRoot":""}